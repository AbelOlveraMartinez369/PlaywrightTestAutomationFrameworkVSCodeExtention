import { test, expect } from '@playwright/test';
import { AccoreeAdminLoginPagePOM } from '../../pages/accoreeAdminLoginPagePOM';

let page;
let accoreeAdminLogin;
let context;

test.describe('Regression Testing Suite', () => {
    test.beforeAll(async ({ browser }) => {
        context = await browser.newContext();
        page = await context.newPage();
        accoreeAdminLogin = new AccoreeAdminLoginPagePOM(page, context);
    });
/*
    test.beforeEach(async () => {
        accoreeAdminLogin = new AccoreeAdminLoginPagePOM(page);
    });
*/
    test('[JIRA] (SWF-547) Admin Login: To verify without entering any data, login button should disable', async () => {
        await accoreeAdminLogin.goToAccoreeAdminLoginPage();
        await accoreeAdminLogin.enterEmail('abelm@tlcengine.com');
        await accoreeAdminLogin.enterPassword('Password123@');
        await accoreeAdminLogin.clickOnRememberMeCheckbox();
        await accoreeAdminLogin.clickOnLoginButton();
    });
    /*
        test.afterEach(async () => {
            // No necesitas cerrar la página aquí si planeas reutilizarla en el próximo beforeEach
            // await page.close();
        });
    */
    test.afterAll(async () => {
        
        await context.close();
    });
});
